name: e2e-report-judge
description: E2E piece that exercises report + judge phases
piece_config:
  provider_options:
    codex:
      network_access: true
    opencode:
      network_access: true


max_movements: 3

movements:
  - name: execute
    edit: true
    persona: ../agents/test-reporter.md
    allowed_tools:
      - Read
      - Write
      - Edit
    required_permission_mode: edit
    output_contracts:
      report:
        - Report: report.md
    instruction_template: |
      {task}
    rules:
      - condition: Done
        next: COMPLETE
      - condition: Needs fix
        next: ABORT
