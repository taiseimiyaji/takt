name: e2e-structured-output
description: E2E piece to verify structured output rule matching
piece_config:
  provider_options:
    codex:
      network_access: true
    opencode:
      network_access: true


max_movements: 5

movements:
  - name: execute
    edit: false
    persona: ../agents/test-coder.md
    permission_mode: readonly
    instruction_template: |
      Reply with exactly: "Task completed successfully."
      Do not do anything else.
    rules:
      - condition: Task completed
        next: COMPLETE
      - condition: Task failed
        next: ABORT
